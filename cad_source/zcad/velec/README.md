# velec

## Назначение

Модуль электротехнических расширений ZCAD (VELEC — Vector Electrical). Предоставляет функциональность для проектирования электрических систем: однолинейные схемы, управление устройствами, кабельная разводка, интеграция с DIALux и экспорт данных.

## Что содержит

### Основные модули
- `uzvcom.pas` — реализация чертёжных команд CAD (линии, размеры, кабели)
- `uzvelscheme.pas` — построение и управление электрическими схемами
- `uzvnum.pas` — нумерация и идентификация электрических устройств
- `uzvtreedevice.pas` — иерархическое дерево устройств
- `uzvvisualgraph.pas` — визуализация графов электрических соединений
- `uzvopsscheme.pas` — операции над схемами (добавление, удаление, модификация)

### Подкаталоги
| Каталог | Назначение |
|---------|------------|
| `GlobalInterpolation/` | Глобальная интерполяция NURBS-кривых |
| `LNLib-main/` | Биндинг к нативной геометрической библиотеке LNLib |
| `SHXTOPDF/` | Конвертация SHX-шрифтов в PDF Type3 |
| `cablecollector/` | Сбор информации о кабельных линиях |
| `connectcontrol/` | Управление подключениями устройств (UI) |
| `connectmanager/` | Менеджер соединений с БД и Excel |
| `contolelschema/` | Форма управления однолинейными схемами |
| `dialux/` | Экспорт данных в формат DIALux EVO (STF) |
| `dialuximport/` | Импорт светильников из DIALux |
| `lightexchange/` | Экспорт данных освещения |
| `managerem/` | Экспорт модели устройств в Excel |
| `space/` | Управление пространствами и помещениями |
| `uzvtable/` | Восстановление таблиц из примитивов |

## Взаимодействие с другими модулями

**Использует:**
- `uzeent*` — примитивы чертежа (устройства, кабели, текст)
- `uzcdrawings` — менеджер чертежей
- `uzccommandsmanager` — система команд ZCAD
- `fpspreadsheet` — работа с Excel-файлами

**Используется:**
- Подключается к основной системе ZCAD как расширение
- Регистрирует команды в менеджере команд
- Интегрируется с GUI через панели и формы

## Важно знать

- Все модули соответствуют единому стандарту кодирования (CLAUDE.md)
- Комментарии на русском языке
- Используется система логирования `uzclog` с уровнем `LM_Info`
- Структура разделена по слоям: Data, Logic, UI
- Максимальная вложенность — 3 уровня, функции не более 30 строк
