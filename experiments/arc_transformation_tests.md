# План тестирования трансформации дуги

## Цель
Проверить правильность работы трансформации дуги (поворот, зеркалирование, масштабирование) и выявить ошибки в изменении размеров, положения центра и угловых параметров.

## Этап 5: Описание необходимых тестов

### Тест 1: Поворот дуги на 90° вокруг начала координат
**Описание:** Создать дугу с центром в точке (5, 0, 0), радиусом 2, начальным углом 0° и конечным углом 90°. Повернуть дугу на 90° вокруг начала координат по оси Z.

**Ожидаемые результаты:**
- Центр дуги должен переместиться в точку (0, 5, 0)
- Радиус должен остаться равным 2
- Начальный угол должен стать 90° (π/2 рад)
- Конечный угол должен стать 180° (π рад)
- Нормаль плоскости дуги должна остаться (0, 0, 1)

**Команды для выполнения в zcUI:**
1. Создать дугу: center=(5,0,0), radius=2, start_angle=0, end_angle=90
2. Выделить дугу
3. Выполнить команду поворота на 90° вокруг точки (0,0,0)
4. Скопировать вывод диагностики из командной строки

---

### Тест 2: Зеркалирование дуги относительно оси Y
**Описание:** Создать дугу с центром в точке (3, 0, 0), радиусом 1.5, начальным углом 0° и конечным углом 180°. Отзеркалить дугу относительно оси Y.

**Ожидаемые результаты:**
- Центр дуги должен переместиться в точку (-3, 0, 0)
- Радиус должен остаться равным 1.5
- Начальный угол должен стать 0° (так как зеркалирование меняет направление)
- Конечный угол должен стать 180° (π рад)
- Нормаль плоскости дуги может измениться на (0, 0, -1) в зависимости от реализации

**Команды для выполнения в zcUI:**
1. Создать дугу: center=(3,0,0), radius=1.5, start_angle=0, end_angle=180
2. Выделить дугу
3. Выполнить команду зеркалирования относительно оси Y
4. Скопировать вывод диагностики из командной строки

---

### Тест 3: Масштабирование дуги с коэффициентом 2
**Описание:** Создать дугу с центром в точке (2, 2, 0), радиусом 1, начальным углом 45° и конечным углом 135°. Масштабировать дугу с коэффициентом 2 относительно начала координат.

**Ожидаемые результаты:**
- Центр дуги должен переместиться в точку (4, 4, 0)
- Радиус должен увеличиться до 2
- Начальный угол должен остаться 45° (π/4 рад)
- Конечный угол должен остаться 135° (3π/4 рад)
- Нормаль плоскости дуги должна остаться (0, 0, 1)

**Команды для выполнения в zcUI:**
1. Создать дугу: center=(2,2,0), radius=1, start_angle=45, end_angle=135
2. Выделить дугу
3. Выполнить команду масштабирования с коэффициентом 2 от точки (0,0,0)
4. Скопировать вывод диагностики из командной строки

---

### Тест 4: Поворот дуги на 180°
**Описание:** Создать дугу с центром в точке (0, 3, 0), радиусом 2, начальным углом 0° и конечным углом 270°. Повернуть дугу на 180° вокруг начала координат по оси Z.

**Ожидаемые результаты:**
- Центр дуги должен переместиться в точку (0, -3, 0)
- Радиус должен остаться равным 2
- Начальный угол должен стать 180° (π рад)
- Конечный угол должен стать 90° (π/2 рад) - проверить порядок!
- Нормаль плоскости дуги должна остаться (0, 0, 1)

**Команды для выполнения в zcUI:**
1. Создать дугу: center=(0,3,0), radius=2, start_angle=0, end_angle=270
2. Выделить дугу
3. Выполнить команду поворота на 180° вокруг точки (0,0,0)
4. Скопировать вывод диагностики из командной строки

---

### Тест 5: Зеркалирование дуги относительно диагональной оси
**Описание:** Создать дугу с центром в точке (2, 0, 0), радиусом 1, начальным углом 0° и конечным углом 90°. Отзеркалить дугу относительно линии y=x.

**Ожидаемые результаты:**
- Центр дуги должен переместиться в точку (0, 2, 0)
- Радиус должен остаться равным 1
- Углы должны трансформироваться в соответствии с геометрией
- Нормаль плоскости дуги может измениться

**Команды для выполнения в zcUI:**
1. Создать дугу: center=(2,0,0), radius=1, start_angle=0, end_angle=90
2. Выделить дугу
3. Выполнить команду зеркалирования относительно линии y=x
4. Скопировать вывод диагностики из командной строки

---

### Тест 6: Комбинированная трансформация
**Описание:** Создать дугу с центром в точке (1, 1, 0), радиусом 1, начальным углом 0° и конечным углом 180°. Выполнить последовательно: масштабирование с коэффициентом 1.5, затем поворот на 45°.

**Ожидаемые результаты:**
- После масштабирования: center=(1.5, 1.5, 0), radius=1.5, углы без изменений
- После поворота: center должен повернуться на 45°, radius=1.5, углы должны увеличиться на 45°

**Команды для выполнения в zcUI:**
1. Создать дугу: center=(1,1,0), radius=1, start_angle=0, end_angle=180
2. Выделить дугу
3. Выполнить масштабирование с коэффициентом 1.5 от точки (0,0,0)
4. Скопировать вывод диагностики
5. Выполнить поворот на 45° вокруг точки (0,0,0)
6. Скопировать вывод диагностики

---

## Формат отчета о тестировании

Для каждого теста необходимо предоставить:

1. **Номер теста**
2. **Описание выполненных действий**
3. **Выкопировка из командной строки zcUI** с диагностическими данными:
   ```
   === Трансформация дуги: ДО ===
   Центр (P_insert_in_WCS): X=..., Y=..., Z=...
   Радиус: ...
   Начальный угол (StartAngle): ... рад (...°)
   Конечный угол (EndAngle): ... рад (...°)
   ...
   === Трансформация дуги: ПОСЛЕ ===
   ...
   ```
4. **Сравнение с ожидаемыми результатами**
5. **Выявленные проблемы** (если есть):
   - Изменение радиуса
   - Смещение центра
   - Неправильные углы
   - Другие отклонения

---

## Дополнительные тесты (опционально)

### Тест 7: Трансформация дуги в 3D пространстве
**Описание:** Создать дугу в плоскости XY, затем наклонить её относительно оси X на 30°.

### Тест 8: Масштабирование с отрицательным коэффициентом
**Описание:** Проверить, как дуга ведёт себя при масштабировании с коэффициентом -1 (инверсия).

### Тест 9: Множественные трансформации
**Описание:** Выполнить серию из 4-5 различных трансформаций подряд и проверить накопление ошибок.

---

## Инструкции для тестировщика

1. Запустите ZCAD
2. Выполните каждый тест последовательно
3. Сохраняйте все выкопировки из командной строки zcUI в отдельный файл
4. Отмечайте все отклонения от ожидаемых результатов
5. По завершении всех тестов составьте сводный отчёт с выявленными проблемами
6. Передайте отчёт разработчику для анализа и исправления ошибок (Этап 6)
