================================================================================
Testing periodic spline (periodic=1)
================================================================================
Degree: 3
Number of control points: 9
Knot vector length: 13

Knot vector:
[-0.57740744 -0.45785344 -0.2700357   0.          0.10134551  0.23227651
  0.42259256  0.54214656  0.7299643   1.          1.10134551  1.23227651
  1.42259256]

================================================================================
Control points from periodic spline:
================================================================================
CP 0: (2862.6279, 3580.1200, 0.0000)
CP 1: (581.2160, -320.7311, 0.0000)
CP 2: (2855.9715, 1075.1935, 0.0000)
CP 3: (1180.1242, 2211.1639, 0.0000)
CP 4: (-728.2942, 1089.9555, 0.0000)
CP 5: (-150.7956, 3259.1931, 0.0000)
CP 6: (2862.6279, 3580.1200, 0.0000)
CP 7: (581.2160, -320.7311, 0.0000)
CP 8: (2855.9715, 1075.1935, 0.0000)

================================================================================
Expected control points:
================================================================================
CP 0: (1583.2137, 417.8366, 0.0000)
CP 1: (1943.9619, 588.3078, 0.0000)
CP 2: (2770.7705, 979.0151, 0.0000)
CP 3: (1225.7225, 2260.4551, 0.0000)
CP 4: (-771.0874, 1052.6822, 0.0000)
CP 5: (-50.7662, 3342.0538, 0.0000)
CP 6: (1877.2100, 3020.2007, 0.0000)
CP 7: (2911.8082, 2445.3350, 0.0000)
CP 8: (3449.4735, 2146.5858, 0.0000)

================================================================================
Comparison:
================================================================================
✓ Number of control points MATCHES!

Detailed comparison:
✗ CP 0: diff=3411.2955
✗ CP 1: diff=1638.1173
✗ CP 2: diff=128.4893
✗ CP 3: diff=67.1478
✗ CP 4: diff=56.7500
✗ CP 5: diff=129.8915
✗ CP 6: diff=1133.3835
✗ CP 7: diff=3617.0129
✗ CP 8: diff=1224.7964

Maximum difference: 3617.0129

✗✗✗ Control points do NOT match

================================================================================
Verify spline passes through input points:
================================================================================
✓ Point 0: diff=0.0000
✗ Point 1: diff=549.1502
✗ Point 2: diff=1185.9210
✗ Point 3: diff=664.4093
✗ Point 4: diff=1371.6600
✗ Point 5: diff=1138.9430
✓ Point 6: diff=0.0000
