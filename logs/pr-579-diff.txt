--- DIFF HEAD ---
cad_source/zcad.pas
cad_source/zcad/velec/space/uzvcommand_layerWeightBigSmall.pas
logs/00-branch.txt
logs/01-issue.json
logs/02-pr.json
logs/03-files.txt
logs/04-space-head.txt
logs/05-showhide.txt
logs/06-zcad-uses.txt
logs/07-layer-ops.txt
logs/08-uzestyleslayers.txt
logs/09-lw-constants.txt
logs/10-lineweight-usage.txt
logs/11-uzcflayers-snippet.txt
logs/12-getlw.txt
logs/13-uzcflineweights.txt
logs/14-uzeconsts.txt
logs/20-git-status.txt
diff --git a/cad_source/zcad.pas b/cad_source/zcad.pas
index cd301350a..89586ac9f 100644
--- a/cad_source/zcad.pas
+++ b/cad_source/zcad.pas
@@ -278,6 +278,7 @@
 
   uzvcommand_space, //команда addZona для работы с зонами
   uzvcommand_showhidespace, //команда показ спрятать
+  uzvcommand_layerWeightBigSmall, //переключение веса слоя большой/маленький
   uzvsplineconvert,
   uzvcommand_exportdialux,
   uzvcommand_recoverytable, //команда восстановления таблиц с чертежа
@@ -417,4 +418,3 @@
 end.
 
 
-
diff --git a/cad_source/zcad/velec/space/uzvcommand_layerWeightBigSmall.pas b/cad_source/zcad/velec/space/uzvcommand_layerWeightBigSmall.pas
new file mode 100644
index 000000000..32361fa63
--- /dev/null
+++ b/cad_source/zcad/velec/space/uzvcommand_layerWeightBigSmall.pas
@@ -0,0 +1,120 @@
+{
+*****************************************************************************
+*                                                                           *
+*  This file is part of the ZCAD                                            *
+*                                                                           *
+*  See the file COPYING.txt, included in this distribution,                 *
+*  for details about the copyright.                                         *
+*                                                                           *
+*  This program is distributed in the hope that it will be useful,          *
+*  but WITHOUT ANY WARRANTY; without even the implied warranty of           *
+*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.                     *
+*                                                                           *
+*****************************************************************************
+}
+{
+@author(Vladimir Bobrov)
+}
+{$mode objfpc}{$H+}
+
+{**Команда layerWeightBigSmall(<LayerName>)
+   Переключает вес указанного слоя между "большой" и "маленький".}
+unit uzvcommand_layerWeightBigSmall;
+
+{$INCLUDE zengineconfig.inc}
+
+interface
+
+uses
+  sysutils,
+  uzccommandsmanager,
+  uzccommandsabstract,
+  uzccommandsimpl,     // менеджер команд и связанные объекты
+  uzcinterface,        // утилиты интерфейса
+  uzcdrawings,         // менеджер чертежей
+  uzestyleslayers,     // стили и таблица слоёв
+  uzeconsts;           // константы (в т.ч. для LineWeight)
+
+// Основная команда
+function layerWeightBigSmall_com(const Context:TZCADCommandContext;operands:TCommandOperands):TCommandResult;
+
+implementation
+
+const
+  // Константы веса слоя (внутренние единицы: сотые доли мм)
+  // 2.00 мм = 200, 0.00 мм = 0
+  CONST_LAYER_WEIGHT_BIG   = LnWt200;
+  CONST_LAYER_WEIGHT_SMALL = LnWt000;
+
+// Нормализация имени слоя из операндов:
+// - обрезаем пробелы
+// - убираем скобки и одинарные/двойные кавычки, если присутствуют
+function NormalizeLayerName(const s: string): string;
+var
+  name: string;
+begin
+  name := Trim(s);
+
+  // Удалим внешние скобки вида (LayerName)
+  if (Length(name) >= 2) and (name[1] = '(') and (name[Length(name)] = ')') then
+    name := Copy(name, 2, Length(name) - 2);
+
+  name := Trim(name);
+
+  // Удалим одинарные кавычки
+  if (Length(name) >= 2) and (name[1] = '''') and (name[Length(name)] = '''') then
+    name := Copy(name, 2, Length(name) - 2);
+
+  // Удалим двойные кавычки
+  if (Length(name) >= 2) and (name[1] = '"') and (name[Length(name)] = '"') then
+    name := Copy(name, 2, Length(name) - 2);
+
+  Result := Trim(name);
+end;
+
+function layerWeightBigSmall_com(const Context:TZCADCommandContext;operands:TCommandOperands):TCommandResult;
+var
+  layerName: string;
+  pLayer: PGDBLayerProp;
+  newLW: SmallInt;
+begin
+  // Получаем имя слоя из операндов
+  layerName := NormalizeLayerName(operands);
+
+  if layerName = '' then
+  begin
+    zcUI.TextMessage('Укажите имя слоя: layerWeightBigSmall(<LayerName>)', TMWOHistoryOut);
+    exit(cmd_error);
+  end;
+
+  // Ищем слой в текущем чертеже
+  pLayer := drawings.GetCurrentDWG^.LayerTable.getAddres(layerName);
+  if pLayer = nil then
+  begin
+    zcUI.TextMessage('Слой ' + layerName + ' не существует', TMWOHistoryOut);
+    exit(cmd_ok);
+  end;
+
+  // Переключаем вес: если текущий НЕ big -> ставим big, иначе -> small
+  if pLayer^.lineweight <> CONST_LAYER_WEIGHT_BIG then
+    newLW := CONST_LAYER_WEIGHT_BIG
+  else
+    newLW := CONST_LAYER_WEIGHT_SMALL;
+
+  pLayer^.lineweight := newLW;
+
+  // Информируем пользователя
+  if newLW = CONST_LAYER_WEIGHT_BIG then
+    zcUI.TextMessage('Вес слоя ' + layerName + ' установлен: 2.00 мм', TMWOHistoryOut)
+  else
+    zcUI.TextMessage('Вес слоя ' + layerName + ' установлен: 0.00 мм', TMWOHistoryOut);
+
+  Result := cmd_ok;
+end;
+
+initialization
+  // Регистрация команды
+  CreateZCADCommand(@layerWeightBigSmall_com,'layerWeightBigSmall',CADWG,0);
+
+end.
+
diff --git a/logs/00-branch.txt b/logs/00-branch.txt
new file mode 100644
index 000000000..0f0bc04ec
--- /dev/null
+++ b/logs/00-branch.txt
@@ -0,0 +1 @@
+issue-578-5408550377d7
diff --git a/logs/01-issue.json b/logs/01-issue.json
new file mode 100644
index 000000000..cf759585c
--- /dev/null
+++ b/logs/01-issue.json
@@ -0,0 +1 @@
+{"author":{"id":"MDQ6VXNlcjM5OTA4OTA4","is_bot":false,"login":"veb86","name":""},"body":"# **Техническое задание на разработку команды `layerWeightBigSmall`**\n\n**Путь размещения файлов:**\n`zcad\\velec\\space\\`\n\n**Имя основного файла команды:**\n`uzvcommand_layerWeightBigSmall.pas`\n\n---\n\n## **1. Назначение команды**\n\nКоманда `layerWeightBigSmall(имя_слоя)` предназначена для быстрого переключения веса указанного слоя между двумя фиксированными значениями (большой ↔ маленький).\nИспользуется для автоматизации смены веса линий без необходимости открытия менеджера слоёв.\n\n---\n\n## **2. Формат вызова**\n\n```\nlayerWeightBigSmall(<LayerName>)\n```\n\n`LayerName` — строковое имя слоя.\n\n---\n\n## **3. Логика выполнения**\n\n1. Команда получает имя слоя в качестве аргумента.\n2. Проверяет существование слоя в текущем чертеже.\n3. Если слой **не существует**:\n\n   * Команда **не выполняется**.\n   * В UI через `zcUI` выводится сообщение:\n     **\"Слой <LayerName> не существует\"**.\n4. Если слой существует и его текущий вес **не равен CONST_LAYER_WEIGHT_BIG**, то:\n\n   * Установить вес = `CONST_LAYER_WEIGHT_BIG`.\n5. Если слой существует и его текущий вес **равен CONST_LAYER_WEIGHT_BIG**, то:\n\n   * Установить вес = `CONST_LAYER_WEIGHT_SMALL`.\n\n---\n\n## **4. Константы**\n\nВсе значения веса вывести в константы в этом же файле:\n\n```\nCONST_LAYER_WEIGHT_BIG   = 2;\nCONST_LAYER_WEIGHT_SMALL = 0;\n```\n\nСделать их легко редактируемыми для будущих изменений (в секции `const`).\n\n---\n\n## **5. Требования к реализации**\n\n### 5.1. Работа со слоями\n\n* Использовать стандартный механизм получения слоя\n  (`Drawings.GetCurrentDWG^.GetLayerTable^` или аналог, как в других командах velec).\n* Изменение веса слоя производить через его параметр `LineWeight`.\n\n### 5.2. Стиль кода\n\n* Команда должна быть оформлена в едином стиле с другими командами `velec\\space`.\n* Регистрация команды выполняется в секции `initialization`.\n\n---\n\n## **6. Структура файла `uzvcommand_layerWeightBigSmall.pas`**\n\nФайл должен содержать:\n\n1. **Список uses** — по аналогии с другими командами в `velec\\space`.\n2. **Описание констант** (веса слоя).\n3. **Функцию обработки команды**:\n\n```\nprocedure layerWeightBigSmall_Command(const Params: TCommandParams);\n```\n\n4. Обработку аргументов: один обязательный параметр — имя слоя.\n5. Проверку существования слоя.\n6. Выполнение переключения веса.\n7. Вывод сообщений.\n8. Регистрацию команды:\n\n```\ninitialization\n  CommandManager.RegisterCommand('layerWeightBigSmall', @layerWeightBigSmall_Command);\n```\n","createdAt":"2025-11-18T07:34:59Z","number":578,"state":"OPEN","title":"Создать новую команду layerWeightBigSmall","updatedAt":"2025-11-18T07:34:59Z","url":"https://github.com/veb86/zcadvelecAI/issues/578"}
diff --git a/logs/02-pr.json b/logs/02-pr.json
new file mode 100644
index 000000000..10d827ee6
--- /dev/null
+++ b/logs/02-pr.json
@@ -0,0 +1,48 @@
+Unknown JSON field: "baseRepository"
+Available fields:
+  additions
+  assignees
+  author
+  autoMergeRequest
+  baseRefName
+  baseRefOid
+  body
+  changedFiles
+  closed
+  closedAt
+  closingIssuesReferences
+  comments
+  commits
+  createdAt
+  deletions
+  files
+  fullDatabaseId
+  headRefName
+  headRefOid
+  headRepository
+  headRepositoryOwner
+  id
+  isCrossRepository
+  isDraft
+  labels
+  latestReviews
+  maintainerCanModify
+  mergeCommit
+  mergeStateStatus
+  mergeable
+  mergedAt
+  mergedBy
+  milestone
+  number
+  potentialMergeCommit
